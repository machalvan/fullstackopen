(this["webpackJsonpthe-phonebook"]=this["webpackJsonpthe-phonebook"]||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),u=n.n(r),o=n(2),i=n(14),l=n(3),s=n.n(l),m=function(){return s.a.get("/api/persons").then((function(e){return e.data}))},f=function(e){return s.a.post("/api/persons",e).then((function(e){return e.data}))},b=function(e){return s.a.delete("".concat("/api/persons","/").concat(e))},d=function(e){var t=e.label,n=Object(i.a)(e,["label"]);return c.a.createElement("div",null,t," ",c.a.createElement("input",n))},p=function(e){var t=e.handleSubmit,n=e.input1,a=e.input2;return c.a.createElement("form",{onSubmit:t},c.a.createElement(d,n),c.a.createElement(d,a),c.a.createElement("button",{type:"submit"},"add"))},h=function(e){var t=e.person,n=e.deletePerson;return c.a.createElement("div",{key:t.name},t.name," ",t.number," ",c.a.createElement("button",{onClick:function(){return n(t)}},"delete"))},E=function(e){var t=e.message,n=e.type;return c.a.createElement("div",{className:"button ".concat(n)},t)},v=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(""),i=Object(o.a)(u,2),l=i[0],s=i[1],d=Object(a.useState)(""),v=Object(o.a)(d,2),j=v[0],O=v[1],g=Object(a.useState)(""),k=Object(o.a)(g,2),y=k[0],S=k[1],w=Object(a.useState)(""),C=Object(o.a)(w,2),P=C[0],D=C[1],J={label:"name: ",value:l,onChange:function(e){return s(e.target.value)}},N={label:"number: ",value:j,onChange:function(e){return O(e.target.value)}},T=function(){var e;e=l,n.find((function(t){return t.name===e}))?(D("".concat(l," is already added to phonebook")),A("".concat(l," is already added to phonebook"),"error")):f({name:l,number:j}).then((function(e){r(n.concat(e)),s(""),O(""),A("Added ".concat(l),"success")}))},x=function(e){var t=e.id,a=e.name;window.confirm("Delete ".concat(a,"?"))&&b(t).then((function(){r(n.filter((function(e){return e.id!==t}))),A("Successfully deleted ".concat(l),"success")}))},A=function(e,t){"success"===t?(S(e),setTimeout((function(){return S(null)}),5e3)):(D(e),setTimeout((function(){return D(null)}),5e3))};return Object(a.useEffect)((function(){m().then((function(e){return r(e)}))}),[]),c.a.createElement("div",null,c.a.createElement("h2",null,"Phonebook"),y&&c.a.createElement(E,{message:y,type:"success"}),P&&c.a.createElement(E,{message:P,type:"error"}),c.a.createElement(p,{handleSubmit:function(e){e.preventDefault(),T()},input1:J,input2:N}),c.a.createElement("h2",null,"Numbers"),n.map((function(e){return c.a.createElement(h,Object.assign({key:e.name},{person:e,deletePerson:x}))})))};n(37);u.a.render(c.a.createElement(v,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.71f0b8aa.chunk.js.map